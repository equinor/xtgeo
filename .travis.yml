language: python

python: 3.5
dist: xenial

env:
    global:
        - UNICODE_WIDTH=32
        - PLAT=x86_64
        - MB_PYTHON_VERSION=$TRAVIS_PYTHON_VERSION
        - VERSION=$(echo $TRAVIS_TAG | sed s/v//)
        - BUILD_DEPENDS="cmake numpy"
        - CONFIG_PATH=scripts/config.sh
        - REPO_DIR=xtgeo
os:
  - linux

services: docker

sudo: required

matrix:
    exclude:
      - python: 3.5

    include:
      - os: linux
        env:
          - MB_PYTHON_VERSION=3.6

before_install:
  - unset -f pushd
  - unset -f popd
  - source multibuild/common_utils.sh
  - source multibuild/travis_steps.sh
  - before_install

install:
  - build_wheel $REPO_DIR $PLAT

script:
  - install_run $PLAT
